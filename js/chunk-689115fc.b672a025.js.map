{"version":3,"sources":["webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./src/views/course/upload-video.vue?d5cf","webpack:///./node_modules/core-js/internals/inherit-if-required.js","webpack:///./src/views/course/upload-video.vue?6d6b","webpack:///./src/services/aliyun-upload.ts","webpack:///./src/views/course/upload-video.vue","webpack:///./src/views/course/upload-video.vue?4280","webpack:///./src/views/course/upload-video.vue?67db","webpack:///./node_modules/core-js/modules/es.number.constructor.js","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["module","exports","requireObjectCoercible","whitespaces","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","string","String","replace","start","end","trim","isObject","setPrototypeOf","dummy","Wrapper","NewTarget","NewTargetPrototype","constructor","prototype","render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","form","model","value","callback","$$v","$set","expression","on","handleUpload","_v","$router","back","uploadPercent","undefined","transCodePercent","staticRenderFns","getImgUploadAddressAdnAuth","request","get","getVideoUploadAddressAdnAuth","params","getTransCode","body","post","getTransCodePercent","lessonId","uploader","imgData","videoData","uploadAddressAuth","extend","name","props","courseId","type","Number","data","uploadSuccess","transCodeSuccess","created","initUploader","methods","onSubmit","console","log","window","AliyunUpload","Vod","userId","region","partSize","parallel","retryCount","retryDuration","onUploadstarted","uploadInfo","isImage","fileName","file","imageUrl","imageURL","setUploadAuthAndAddress","uploadAuth","uploadAddress","videoId","imageId","onUploadSucceed","onUploadFailed","code","message","onUploadProgress","totalSize","loadedPercent","Math","floor","onUploadTokenExpired","onUploadEnd","$route","query","coverImageUrl","fileId","timer","setInterval","$message","success","clearInterval","key","e","paramData","addFile","$refs","image","files","video","startUpload","component","DESCRIPTORS","global","isForced","redefine","has","classof","inheritIfRequired","toPrimitive","fails","create","getOwnPropertyNames","f","getOwnPropertyDescriptor","defineProperty","NUMBER","NativeNumber","NumberPrototype","BROKEN_CLASSOF","toNumber","argument","first","third","radix","maxCode","digits","length","index","it","charCodeAt","NaN","slice","parseInt","NumberWrapper","arguments","valueOf","call","keys","split","j","FunctionPrototype","Function","FunctionPrototypeToString","toString","nameRE","NAME","configurable","match","error"],"mappings":"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","file":"js/chunk-689115fc.b672a025.js","sourcesContent":["// a string of all valid unicode whitespaces\n// eslint-disable-next-line max-len\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload-video.vue?vue&type=style&index=0&id=2eeffe1b&scoped=true&lang=css&\"","var isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    typeof (NewTarget = dummy.constructor) == 'function' &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-card',{staticClass:\"video-upload\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"课程\"}},[_c('el-input',{attrs:{\"readonly\":\"\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"课时\"}},[_c('el-input',{attrs:{\"readonly\":\"\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"视频上传\"}},[_c('input',{ref:\"video\",attrs:{\"type\":\"file\"}})]),_c('el-form-item',{attrs:{\"label\":\"封面上传\"}},[_c('input',{ref:\"image\",attrs:{\"type\":\"file\"}})]),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleUpload}},[_vm._v(\"开始上传\")]),_c('el-button',{on:{\"click\":_vm.$router.back}},[_vm._v(\"返回\")])],1),_c('el-form-item',{attrs:{\"label\":\"上传进度\"}},[_c('el-progress',{attrs:{\"type\":\"circle\",\"status\":_vm.uploadPercent===100?'success':undefined,\"percentage\":_vm.uploadPercent}})],1),_c('el-form-item',{attrs:{\"label\":\"转码进度\"}},[_c('el-progress',{attrs:{\"type\":\"circle\",\"status\":_vm.transCodePercent===100?'success':undefined,\"percentage\":_vm.transCodePercent}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from '@/utils/request'\n\n// 图片上传凭证\nexport function getImgUploadAddressAdnAuth() {\n  return request.get('/boss/course/upload/aliyunImagUploadAddressAdnAuth.json')\n}\n// 视频上传凭证\nexport function getVideoUploadAddressAdnAuth(params: any) {\n  return request.get('/boss/course/upload/aliyunVideoUploadAddressAdnAuth.json', {\n    params\n  })\n}\n// 阿里云转码\nexport function getTransCode(body: any) {\n  return request.post('/boss/course/upload/aliyunTransCode.json', body)\n}\n// 转码进度\nexport function getTransCodePercent(lessonId: any) {\n  return request.get('/boss/course/upload/aliyunTransCodePercent.json', {\n    params: {\n      lessonId\n    }\n  })\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { getImgUploadAddressAdnAuth, getTransCode, getTransCodePercent, getVideoUploadAddressAdnAuth } from '@/services/aliyun-upload'\nimport Vue from 'vue'\nlet uploader: any\nlet imgData: any\nlet videoData: any\nlet uploadAddressAuth: any\nexport default Vue.extend({\n  name: 'UploadVideo',\n  props: {\n    courseId: {\n      type: [String, Number]\n    }\n  },\n  data() {\n    return {\n      form: {\n        name: '123'\n      },\n      uploadPercent: 0,\n      transCodePercent: 0,\n      uploadSuccess: false,\n      transCodeSuccess: false\n    }\n  },\n  created() {\n    this.initUploader()\n  },\n  methods: {\n    onSubmit() {\n      console.log(123)\n    },\n    initUploader() {\n      uploader = new window.AliyunUpload.Vod({\n        userId: '1618139964448548',\n        region: '',\n        partSize: 1048576,\n        parallel: 5,\n        retryCount: 3,\n        retryDuration: 2,\n        onUploadstarted: async (uploadInfo: any) => {\n          console.log('开始上传', uploadInfo)\n          if (uploadInfo.isImage) {\n            const { data } = await getImgUploadAddressAdnAuth()\n            imgData = uploadAddressAuth = data.data\n            console.log(data)\n          } else {\n            const { data } = await getVideoUploadAddressAdnAuth({\n              fileName: uploadInfo.file.name,\n              imageUrl: imgData.imageURL\n            })\n            videoData = uploadAddressAuth = data.data\n            videoData.fileName = uploadInfo.file.name\n            console.log(data)\n          }\n          uploader.setUploadAuthAndAddress(uploadInfo, uploadAddressAuth.uploadAuth, uploadAddressAuth.uploadAddress, uploadAddressAuth.videoId || uploadAddressAuth.imageId)\n        },\n        onUploadSucceed: function (uploadInfo: any) {\n          console.log('上传成功')\n        },\n        onUploadFailed: function (uploadInfo: any, code: any, message: any) {\n          console.log('上传失败')\n        },\n        onUploadProgress: (uploadInfo: any, totalSize: any, loadedPercent: any) => {\n          console.log(uploadInfo, totalSize, loadedPercent)\n          if (!uploadInfo.isImage) {\n            this.uploadPercent = Math.floor(loadedPercent * 100)\n            console.log(this.uploadPercent)\n            if (this.uploadPercent === 100) {\n              this.uploadSuccess = true\n            }\n          }\n        },\n        onUploadTokenExpired: function (uploadInfo: any) {\n          console.log(uploadInfo)\n        },\n        onUploadEnd: async (uploadInfo: any) => {\n          console.log('onUploadEnd', uploadInfo)\n          const { data } = await getTransCode({\n            lessonId: this.$route.query.lessonId,\n            coverImageUrl: imgData.imageURL,\n            fileName: videoData.fileName,\n            fileId: videoData.videoId\n          })\n          const timer = setInterval(async () => {\n            const { data } = await getTransCodePercent(this.$route.query.lessonId)\n            console.log(data)\n            this.transCodePercent = data.data\n            if (data.data === 100) {\n              this.transCodeSuccess = true\n              this.$message.success('转码成功')\n              clearInterval(timer)\n            }\n          }, 3000)\n          console.log(data)\n          this.$message.success('上传成功')\n        }\n      })\n    },\n    handleUpload(key: string, e: any) {\n      this.uploadPercent = 0\n      this.transCodePercent = 0\n      this.uploadSuccess = false\n      this.transCodeSuccess = false\n      const paramData = '{\"Vod\":{}}'\n      uploader.addFile((this.$refs.image as any).files[0], null, null, null, paramData)\n      uploader.addFile((this.$refs.video as any).files[0], null, null, null, paramData)\n\n      uploader.startUpload()\n    }\n  }\n})\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload-video.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload-video.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./upload-video.vue?vue&type=template&id=2eeffe1b&scoped=true&\"\nimport script from \"./upload-video.vue?vue&type=script&lang=ts&\"\nexport * from \"./upload-video.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./upload-video.vue?vue&type=style&index=0&id=2eeffe1b&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2eeffe1b\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.github.io/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.github.io/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,' +\n    // ESNext\n    'fromString,range'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}